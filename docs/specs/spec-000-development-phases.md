# Spec-000: 개발 Phase별 구현 순서

## 개요
eSports Portal 개발을 단계별로 진행하기 위한 구현 순서 및 우선순위

## Phase 1: 기초 인프라 및 인증 시스템 (MVP 기반)

### 1.1 프로젝트 초기 설정
- [x] SvelteKit 프로젝트 생성 (완료)
- [x] TypeScript 설정 (완료)
- [x] Drizzle ORM 설정 (완료)
- [x] Lucia 인증 설정 (완료)
- [x] TailwindCSS 설정 (완료)
- [ ] 환경 변수 설정 (.env)
- [ ] 데이터베이스 초기화 (`bun run db:push`)

### 1.2 데이터베이스 스키마 설계 및 마이그레이션
**우선순위: 최우선**

- [ ] `users` 테이블 (인증 시스템)
- [ ] `user_sessions` 테이블
- [ ] `game_boards` 테이블 (게임별 게시판)
- [ ] 기본 인덱스 및 제약조건 설정

### 1.3 인증 시스템 구현 (Spec-005)
**의존성: 데이터베이스 스키마**

- [ ] 회원가입 페이지 및 API
- [ ] 로그인 페이지 및 API
- [ ] 로그아웃 기능
- [ ] 세션 관리 (Lucia)
- [ ] 비밀번호 해싱 (bcrypt)
- [ ] 프로필 페이지 (기본)
- [ ] 관리자 권한 체크 미들웨어

### 1.4 기본 레이아웃 및 네비게이션
- [ ] 메인 레이아웃 컴포넌트
- [ ] 헤더/네비게이션 바
- [ ] 푸터
- [ ] 반응형 디자인 (모바일/데스크톱)
- [ ] 로딩 상태 관리
- [ ] 에러 페이지 (404, 500 등)

---

## Phase 2: 핵심 커뮤니티 기능

### 2.1 게임별 게시판 구현 (Spec-003)
**의존성: Phase 1 완료**

- [ ] `posts` 테이블 생성
- [ ] `comments` 테이블 생성
- [ ] `post_likes` 테이블 생성
- [ ] 게시판 목록 페이지
- [ ] 게시글 목록 페이지 (게임별 필터링)
- [ ] 게시글 작성 페이지
- [ ] 게시글 상세 페이지
- [ ] 게시글 수정/삭제 기능
- [ ] 댓글 작성/수정/삭제 기능
- [ ] 좋아요/추천 기능
- [ ] 조회수 카운팅
- [ ] 정렬 기능 (최신순, 조회수순, 추천순, 댓글수순)
- [ ] 페이지네이션

### 2.2 실시간 인기글 게시판 (트렌딩) (Spec-004)
**의존성: 게시판 기능 완료**

- [ ] 트렌딩 게시판 페이지
- [ ] 조회수 기반 상위 글 선정 로직
- [ ] 스케줄러 설정 (5분마다 업데이트)
- [ ] 캐싱 전략 (Redis 또는 메모리 캐시)
- [ ] 실시간 업데이트 (선택사항: WebSocket)

### 2.3 eSports 뉴스 기사 기능 (Spec-002)
**의존성: 기본 레이아웃**

- [ ] `news_articles` 테이블 생성
- [ ] 외부 뉴스 API 연동 (API 키 설정)
- [ ] 뉴스 수집 스케줄러 (크론 작업)
- [ ] 뉴스 목록 페이지
- [ ] 뉴스 상세 페이지
- [ ] 게임별 필터링 (선택사항)
- [ ] 검색 기능 (선택사항)
- [ ] 페이지네이션

---

## Phase 3: 대회 및 랭킹 시스템

### 3.1 게임별 온라인 대회 기록 관리 (Spec-006)
**의존성: Phase 2 완료**

- [ ] `tournaments` 테이블 생성
- [ ] `tournament_participants` 테이블 생성
- [ ] `tournament_matches` 테이블 생성
- [ ] 대회 기록 등록 페이지 (관리자)
- [ ] 대회 기록 목록 페이지
- [ ] 대회 기록 상세 페이지
- [ ] 게임별/날짜별 필터링
- [ ] 참가자/팀별 검색
- [ ] 리플레이 파일 경로 저장
- [ ] YouTube VOD 링크 저장

### 3.2 아마추어 랭킹 시스템 (Spec-007)
**의존성: 대회 기록 관리 완료**

- [ ] `rankings` 테이블 생성
- [ ] `ranking_history` 테이블 생성 (선택사항)
- [ ] 랭킹 계산 로직 (포인트 시스템)
- [ ] 랭킹 페이지 (게임별)
- [ ] 전체 랭킹 페이지
- [ ] 사용자 본인 랭킹 표시
- [ ] 랭킹 업데이트 트리거 (대회 기록 등록 시)
- [ ] 랭킹 히스토리 (선택사항)

### 3.3 랭킹전 대회 운영 시스템 (Spec-008)
**의존성: 랭킹 시스템 완료**

- [ ] `ranking_tournaments` 테이블 생성
- [ ] `tournament_registrations` 테이블 생성
- [ ] `tournament_brackets` 테이블 생성
- [ ] 대회 개최 페이지 (관리자)
- [ ] 대회 목록 페이지
- [ ] 대회 상세 페이지
- [ ] 참가 신청 기능
- [ ] 참가 자격 확인 (랭킹 범위)
- [ ] 대진표 생성 (자동/수동)
- [ ] 경기 결과 입력
- [ ] 토너먼트 진행 상황 표시
- [ ] 대회 상태 관리

---

## Phase 4: 미디어 연동 및 자동 경기 운영 (기본)

### 4.1 유튜브 영상 연동 (Spec-009)
**의존성: 기본 레이아웃**

- [ ] `youtube_channels` 테이블 생성
- [ ] `youtube_videos` 테이블 생성
- [ ] `youtube_live_streams` 테이블 생성
- [ ] YouTube Data API 연동 설정
- [ ] 채널 구독 및 영상 수집 스케줄러
- [ ] 영상 목록 페이지
- [ ] 영상 상세 페이지 (임베드)
- [ ] 게임별/채널별 필터링
- [ ] 검색 기능

### 4.2 자동 경기 운영 시스템 - 기본 (Spec-010)
**의존성: Phase 3 완료, YouTube 연동 완료**

- [ ] `match_schedules` 테이블 생성
- [ ] `match_participants` 테이블 생성
- [ ] `match_streaming_logs` 테이블 생성
- [ ] `replay_files` 테이블 생성
- [ ] 경기 페이지 생성 (일정/대진/공지/영상 링크)
- [ ] 관리자 경기 등록 페이지
- [ ] YouTube Live API 연동
- [ ] 예약 방송 자동 생성 기능
- [ ] 경기 상태 관리 (상태 머신)
- [ ] VOD 자동 링크 매핑

---

## Phase 5: 자동 경기 운영 고도화

### 5.1 OBS 자동 제어 시스템
**의존성: Phase 4 완료**

- [ ] OBS WebSocket 클라이언트 설정
- [ ] 중계PC 에이전트 프로그램 개발
- [ ] 경기 시작 시 OBS 자동 시작
- [ ] 경기 종료 시 OBS 자동 종료
- [ ] 스트림키 자동 설정
- [ ] 상태 모니터링 및 리포트

### 5.2 자동 스케줄링 시스템
**의존성: Phase 5.1 완료**

- [ ] 정기 대회 자동 생성 스케줄러
- [ ] 룰 기반 경기 생성 (매주 화/목 등)
- [ ] 대진표 기반 경기 자동 생성
- [ ] 참가 신청 마감 시 자동 편성

### 5.3 리플레이 백업 시스템
**의존성: Phase 5.1 완료**

- [ ] LoL 리플레이 다운로드 자동화
- [ ] VALORANT 리플레이 수집
- [ ] 리플레이 기반 VOD 재생성 로직
- [ ] 하이라이트 자동 생성 (선택사항)

---

## Phase 6: 고도화 및 운영 기능

### 6.1 알림 시스템
**의존성: Phase 5 완료**

- [ ] 이메일 알림 (경기 생성, 시작 전 등)
- [ ] 경기 시작 전 알림 (10분 전, 1시간 전)
- [ ] VOD 업로드 완료 알림
- [ ] 오류 발생 알림 (관리자)

### 6.2 모니터링 및 대시보드
**의존성: Phase 5 완료**

- [ ] 관리자 대시보드
- [ ] 경기 상태 모니터링
- [ ] 스트리밍 상태 모니터링
- [ ] 시스템 로그 관리
- [ ] 통계 및 분석 (선택사항)

### 6.3 성능 최적화 및 보안 강화
- [ ] 데이터베이스 쿼리 최적화
- [ ] 캐싱 전략 개선
- [ ] Rate limiting 구현
- [ ] CSRF/XSS 보안 강화
- [ ] API 보안 강화

---

## 개발 우선순위 요약

### 최우선 (즉시 시작)
1. 데이터베이스 스키마 설계 및 마이그레이션
2. 인증 시스템 구현
3. 기본 레이아웃

### 1차 목표 (MVP)
- Phase 1: 기초 인프라 및 인증
- Phase 2: 핵심 커뮤니티 기능 (게시판, 뉴스)

### 2차 목표 (핵심 기능)
- Phase 3: 대회 및 랭킹 시스템

### 3차 목표 (자동화)
- Phase 4: 미디어 연동 및 자동 경기 운영 기본
- Phase 5: 자동 경기 운영 고도화

### 4차 목표 (완성도 향상)
- Phase 6: 고도화 및 운영 기능

---

## 기술적 고려사항

### 데이터베이스 마이그레이션
- Drizzle ORM을 사용하여 스키마 관리
- 각 Phase별로 마이그레이션 파일 생성
- 개발/프로덕션 환경 분리

### API 설계
- RESTful API 설계 원칙 준수
- SvelteKit API Routes 활용
- 에러 핸들링 표준화

### 스케줄러
- SvelteKit 서버에서 크론 작업 실행
- 또는 별도 스케줄러 서비스 고려

### 외부 API 연동
- YouTube API 할당량 관리
- 뉴스 API 연동
- 에러 핸들링 및 재시도 로직

---

## 예상 개발 기간 (참고용)

- **Phase 1**: 1-2주
- **Phase 2**: 2-3주
- **Phase 3**: 2-3주
- **Phase 4**: 2-3주
- **Phase 5**: 3-4주
- **Phase 6**: 2-3주

**총 예상 기간**: 12-18주 (약 3-4.5개월)

*실제 개발 속도는 팀 규모, 경험, 외부 API 연동 난이도 등에 따라 달라질 수 있습니다.*
